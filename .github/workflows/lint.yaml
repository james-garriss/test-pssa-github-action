name: Lint Test

on:
  push:
  workflow_dispatch:

permissions: read-all

jobs:
  lint-test:
    name: Lint Test
    runs-on: ubuntu-latest
    # runs-on: windows-latest
    steps:
      - name: Checkout Repo
        uses: actions/checkout@v4
      # - name: Copy Config
      #   run: cp PSScriptAnalyzerSettings.psd1 ./PSScriptAnalyzerSettings.psd1
      - name: Run PSScriptAnalyzer
        uses: james-garriss/github-action-psscriptanalyzer@master
        with:
          repoToken: ${{ secrets.GITHUB_TOKEN }}
          settingsPath: PSScriptAnalyzerSettings.psd1
          sendComment: true
          failOnErrors: true
          failOnWarnings: true
          failOnInfos: true
